######################################################################
# Automatically generated by qmake (2.01a) Mon Dec 14 10:27:37 2015
######################################################################

TEMPLATE = app
TARGET = 
DEPENDPATH += .
INCLUDEPATH += .

# Input
SOURCES += src/main.cpp \
    src/Map2D.cpp \
    src/Map2DCPU.cpp \
    src/Map2DRender.cpp \
    src/Map2DGPU.cpp

HEADERS += \
    src/Map2D.h \
    src/Map2DCPU.h \
    src/Map2DRender.h \
    src/Map2DGPU.h \
    src/UtilGPU.cuh

# List CUDA source files on the filetree in QtCreator
OTHER_FILES += \
    src/UtilGPU.cu
QMAKE_CXXFLAGS +=  -DHAS_CUDA
CUDA_SOURCES += src/UtilGPU.cu
################################################################################
# QT settings
################################################################################
INCLUDEPATH+=/usr/share/qt4/mkspecs/linux-g++ \
/usr/include/qt4/QtCore \
/usr/include/qt4/QtGui \
/usr/include/qt4/QtXml \
/usr/include/qt4/QtOpenGL \
/usr/include/qt4

LIBS+=-lQtGui -lQtCore -lQtXml

################################################################################
# QGLViewer settings
################################################################################
LIBS+=-lQtOpenGL -lQGLViewer -lGL -lGLU -lglut -lGLEW

################################################################################
# OpenCV settings
################################################################################
OPENCV_TOP  = /opt/opencv

LIBS += -L$$OPENCV_TOP/lib \
        -lopencv_calib3d -lopencv_contrib -lopencv_core \
        -lopencv_features2d -lopencv_flann -lopencv_gpu \
        -lopencv_highgui -lopencv_imgproc -lopencv_legacy \
        -lopencv_ml -lopencv_objdetect \
        -lopencv_photo -lopencv_stitching -lopencv_ts \
        -lopencv_video -lopencv_videostab

INCLUDEPATH += $$OPENCV_TOP/include $$OPENCV_TOP/include/opencv ../3rdparty/include/ /usr/local/cuda-7.5/targets/x86_64-linux/include


################################################################################
# PIL settings
################################################################################
TOPDIR=/data/zhaoyong/Linux/Program/Apps/Tests/Map2DFusion
PIL_TOP=$$TOPDIR/PIL
LIBS_DIR=$$TOPDIR/libs
INCLUDEPATH += $$PIL_TOP/src $$PIL_TOP/Thirdparty
LIBS+=-L$$TOPDIR/libs \
-lpi_base -lpi_gui -llua -lpi_lua

# #######################################################################
# CUDA
# #######################################################################
# auto-detect CUDA path

CUDA_ARCH     = sm_35
CUDA_DIR=/usr/local/cuda

INCLUDEPATH += $$CUDA_DIR/include

LIBS += -L$$CUDA_DIR/lib64/ \
        -lcudart


cuda.output = ${OBJECTS_DIR}${QMAKE_FILE_BASE}_cuda.obj
cuda.commands = $$CUDA_DIR/bin/nvcc \
    -arch $$CUDA_ARCH \
    -c \
    $$NVFLAGS \
    -Xptxas -v \
    -Xcompiler \
    $$join(QMAKE_CXXFLAGS,",") \
    $$join(INCLUDEPATH,'" -I "','-I "','"') \
    ${QMAKE_FILE_NAME} \
    -o \
    ${QMAKE_FILE_OUT}
cuda.dependcy_type = TYPE_C
cuda.depend_command = $$CUDA_DIR/bin/nvcc \
    -M \
    -arch $$CUDA_ARCH \
    -Xptxas -v \
    -Xcompiler \
    $$join(QMAKE_CXXFLAGS,",") \
    $$join(INCLUDEPATH,'" -I "','-I "','"') \
    ${QMAKE_FILE_NAME} \
    | \
    tr \
    -d \
    '\\\n'
cuda.input = CUDA_SOURCES
QMAKE_EXTRA_COMPILERS += cuda

RESOURCES +=

